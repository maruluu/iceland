<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­æ´²æ—…éŠè¡Œç¨‹ - å†°å³¶ & è·è˜­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.2);
        }

        /* å´é‚Šå°èˆª */
        .sidebar {
            width: 320px;
            background: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
            transition: width 0.3s ease;
            overflow: hidden;
        }

        .sidebar.collapsed {
            width: 60px;
        }

        .sidebar-header {
            padding: 20px;
            background: #34495e;
            border-bottom: 1px solid #404c5c;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-title {
            font-size: 1.2rem;
            font-weight: bold;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .sidebar.collapsed .sidebar-title {
            opacity: 0;
        }

        .toggle-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .toggle-btn:hover {
            background-color: rgba(255,255,255,0.1);
        }

        /* åœ‹å®¶åˆ†çµ„ */
        .country-section {
            margin-bottom: 10px;
        }

        .country-header {
            padding: 15px 20px;
            background: #3d5a80;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.2s;
        }

        .country-header:hover {
            background: #4d6a90;
        }

        .country-header.collapsed {
            justify-content: center;
        }

        .country-name {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .country-flag {
            font-size: 1.2rem;
        }

        .expand-icon {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .country-section.expanded .expand-icon {
            transform: rotate(90deg);
        }

        .day-list {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .country-section.expanded .day-list {
            max-height: 500px;
            overflow-y: auto;
        }

        /* è‡ªå®šç¾© day-list å·è»¸æ¨£å¼ */
        .day-list::-webkit-scrollbar {
            width: 6px;
        }

        .day-list::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
        }

        .day-list::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        .day-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.5);
        }

        .day-item {
            padding: 12px 40px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar.collapsed .day-item {
            padding: 12px 20px;
            justify-content: center;
        }

        .day-item:hover {
            background-color: rgba(255,255,255,0.1);
            padding-left: 50px;
        }

        .sidebar.collapsed .day-item:hover {
            padding-left: 20px;
        }

        .day-item.active {
            background: #e74c3c;
            border-left: 4px solid #c0392b;
        }

        .day-number {
            background: rgba(255,255,255,0.2);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            min-width: 30px;
            text-align: center;
        }

        .day-name {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .sidebar.collapsed .day-name {
            opacity: 0;
        }

        /* ä¸»å…§å®¹å€ */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .main-header {
            padding: 20px 30px;
            background: white;
            border-bottom: 2px solid #ecf0f1;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-content {
            flex: 1;
        }

        .main-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .breadcrumb {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .content-area {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        /* æœå°‹åŠŸèƒ½ */
        .search-container {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .search-input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 20px;
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .search-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        /* æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
        @media (max-width: 768px) {
            .app-container {
                height: 100vh;
                flex-direction: column;
            }

            .sidebar {
                position: fixed;
                z-index: 1000;
                height: 100vh;
                width: 280px;
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                box-shadow: 2px 0 10px rgba(0,0,0,0.3);
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .sidebar.collapsed {
                width: 280px;
            }

            .main-content {
                width: 100%;
                height: 100vh;
            }

            .main-header {
                padding: 15px 20px;
                position: sticky;
                top: 0;
                z-index: 100;
                flex-direction: row;
            }

            .main-title {
                font-size: 1.5rem;
                line-height: 1.3;
                margin-bottom: 5px;
            }

            .content-area {
                padding: 15px;
                padding-bottom: 80px; /* ç‚ºåº•éƒ¨å°èˆªç•™ç©ºé–“ */
            }

            .mobile-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                z-index: 999;
                display: none;
            }

            .mobile-overlay.show {
                display: block;
            }

            /* å¿«é€Ÿçµ±è¨ˆå¡ç‰‡ */
            .quick-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                margin-bottom: 20px;
            }

            .stat-card {
                padding: 15px;
            }

            .stat-number {
                font-size: 1.5rem;
            }

            .stat-label {
                font-size: 0.8rem;
            }

            /* æ—¥ç¨‹å…§å®¹ */
            .day-content {
                padding: 20px 15px;
                margin-bottom: 15px;
            }

            .day-content h2 {
                font-size: 1.4rem;
                margin-bottom: 15px;
            }

            /* å´é‚Šæ¬„å„ªåŒ– */
            .sidebar-header {
                padding: 15px;
            }

            .sidebar-title {
                font-size: 1.1rem;
            }

            .day-item {
                padding: 15px 20px;
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }

            .day-item:hover {
                padding-left: 25px;
            }

            .day-number {
                min-width: 35px;
                padding: 6px 10px;
            }

            .search-container {
                padding: 15px;
            }

            .search-input {
                padding: 12px 15px;
                font-size: 16px; /* é˜²æ­¢iOSç¸®æ”¾ */
            }
        }

        /* æ›´å°è¢å¹•å„ªåŒ– */
        @media (max-width: 480px) {
            .main-header {
                padding: 12px 15px;
            }

            .main-title {
                font-size: 1.3rem;
            }

            .breadcrumb {
                font-size: 0.8rem;
            }

            .quick-stats {
                grid-template-columns: 1fr;
            }

            .stat-card {
                padding: 12px;
            }

            .content-area {
                padding: 10px;
            }

            .day-content {
                padding: 15px 10px;
            }

            .sidebar {
                width: 260px;
            }
        }

        /* è§¸æ§å„ªåŒ– */
        @media (hover: none) and (pointer: coarse) {
            .day-item:hover {
                padding-left: 40px;
            }

            .country-header:hover {
                background: #3d5a80;
            }
        }

        /* å…§å®¹æ¨£å¼ */
        .day-content {
            background: white;
            border-radius: 10px;
            padding: 15px 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .day-content h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        /* å¿«é€Ÿçµ±è¨ˆ */
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 10px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* æ‰‹æ©Ÿç‰ˆåº•éƒ¨å°èˆª */
        .mobile-bottom-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #2c3e50;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
            z-index: 100;
        }

        .mobile-nav-buttons {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .mobile-nav-btn {
            background: none;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .mobile-nav-btn:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .mobile-nav-btn.active {
            background-color: #e74c3c;
        }

        /* ä¸‹æ‹‰é¸æ“‡å™¨ */
        .mobile-day-selector {
            display: none;
            padding: 15px;
            background: white;
            border-bottom: 2px solid #ecf0f1;
        }

        .day-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
        }

        /* åœ°åœ–æ¨£å¼ */
        .map-container {
            width: 100%;
            height: 350px;
            margin-top: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .map-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #666;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            .mobile-bottom-nav {
                display: block;
            }

            .mobile-day-selector {
                display: block;
            }

            .map-container {
                height: 250px;
                margin-top: 15px;
            }
        }
    </style>
  <script type="module" crossorigin src="/iceland/assets/index-WzFOPSZh.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- å´é‚Šå°èˆª -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">æ­æ´²æ—…éŠè¡Œç¨‹</div>
                <button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>
            </div>
            
            <div class="search-container">
                <input type="text" class="search-input" placeholder="æœå°‹æ™¯é»æˆ–æ´»å‹•..." id="searchInput">
            </div>

            <!-- å†°å³¶è¡Œç¨‹ -->
            <div class="country-section expanded">
                <div class="country-header" onclick="toggleCountry(this)">
                    <div class="country-name">
                        <span class="country-flag">ğŸ‡®ğŸ‡¸</span>
                        <span>å†°å³¶ (12å¤©)</span>
                    </div>
                    <span class="expand-icon">â–¶</span>
                </div>
                <div class="day-list">
                    <div class="day-item active" onclick="selectDay('iceland', 0, this)">
                        <span class="day-number">D0</span>
                        <span class="day-name">å‡ºç™¼å‰å¾€æ­æ´²</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 1, this)">
                        <span class="day-number">D1</span>
                        <span class="day-name">é›·å…‹é›…ç¶­å…‹</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 2, this)">
                        <span class="day-number">D2</span>
                        <span class="day-name">é»ƒé‡‘åœˆ</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 3, this)">
                        <span class="day-number">D3</span>
                        <span class="day-name">å—å²¸ç€‘å¸ƒ</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 4, this)">
                        <span class="day-number">D4</span>
                        <span class="day-name">å†°å·å¥è¡Œ</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 5, this)">
                        <span class="day-number">D5</span>
                        <span class="day-name">å†°æ²³æ¹–</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 6, this)">
                        <span class="day-number">D6</span>
                        <span class="day-name">æ±éƒ¨å³½ç£</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 7, this)">
                        <span class="day-number">D7</span>
                        <span class="day-name">ç±³æ¹–</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 8, this)">
                        <span class="day-number">D8</span>
                        <span class="day-name">åŒ—éƒ¨</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 9, this)">
                        <span class="day-number">D9</span>
                        <span class="day-name">è¥¿éƒ¨</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 10, this)">
                        <span class="day-number">D10</span>
                        <span class="day-name">æ–¯å¥ˆå±±åŠå³¶</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 11, this)">
                        <span class="day-number">D11</span>
                        <span class="day-name">è—æ¹–</span>
                    </div>
                    <div class="day-item" onclick="selectDay('iceland', 12, this)">
                        <span class="day-number">D12</span>
                        <span class="day-name">è¿”ç¨‹</span>
                    </div>
                </div>
            </div>

            <!-- è·è˜­è¡Œç¨‹ -->
            <div class="country-section">
                <div class="country-header" onclick="toggleCountry(this)">
                    <div class="country-name">
                        <span class="country-flag">ğŸ‡³ğŸ‡±</span>
                        <span>è·è˜­ (7å¤©)</span>
                    </div>
                    <span class="expand-icon">â–¶</span>
                </div>
                <div class="day-list">
                    <div class="day-item" onclick="selectDay('netherlands', 0, this)">
                        <span class="day-number">D13</span>
                        <span class="day-name">é˜¿å§†æ–¯ç‰¹ä¸¹</span>
                    </div>
                    <div class="day-item" onclick="selectDay('netherlands', 1, this)">
                        <span class="day-number">D14</span>
                        <span class="day-name">ç¾Šè§’æ‘</span>
                    </div>
                    <div class="day-item" onclick="selectDay('netherlands', 2, this)">
                        <span class="day-number">D15</span>
                        <span class="day-name">å°å­©å ¤é˜²+çƒç‰¹å‹’æ”¯</span>
                    </div>
                    <div class="day-item" onclick="selectDay('netherlands', 3, this)">
                        <span class="day-number">D16</span>
                        <span class="day-name">çƒç‰¹å‹’æ”¯+Amersfoort</span>
                    </div>
                    <div class="day-item" onclick="selectDay('netherlands', 4, this)">
                        <span class="day-number">D17</span>
                        <span class="day-name">å¸ƒé­¯æ—¥</span>
                    </div>
                    <div class="day-item" onclick="selectDay('netherlands', 5, this)">
                        <span class="day-number">D18</span>
                        <span class="day-name">æ ¹ç‰¹+é¹¿ç‰¹ä¸¹</span>
                    </div>
                    <div class="day-item" onclick="selectDay('netherlands', 6, this)">
                        <span class="day-number">D19</span>
                        <span class="day-name">é¹¿ç‰¹ä¸¹+å›ç¨‹</span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ä¸»å…§å®¹å€ -->
        <main class="main-content">
            <!-- æ‰‹æ©Ÿç‰ˆæ—¥ç¨‹é¸æ“‡å™¨ -->
            <div class="mobile-day-selector">
                <select class="day-select" id="mobileDaySelect" onchange="selectDayFromMobile(this)">
                    <optgroup label="ğŸ‡®ğŸ‡¸ å†°å³¶">
                        <option value="iceland-0" selected>Day 0: å‡ºç™¼å‰å¾€æ­æ´²</option>
                        <option value="iceland-1">Day 1: é›·å…‹é›…ç¶­å…‹</option>
                        <option value="iceland-2">Day 2: é»ƒé‡‘åœˆ</option>
                        <option value="iceland-3">Day 3: å—å²¸ç€‘å¸ƒ</option>
                        <option value="iceland-4">Day 4: å†°å·å¥è¡Œ</option>
                        <option value="iceland-5">Day 5: å†°æ²³æ¹–</option>
                        <option value="iceland-6">Day 6: æ±éƒ¨å³½ç£</option>
                        <option value="iceland-7">Day 7: ç±³æ¹–</option>
                        <option value="iceland-8">Day 8: åŒ—éƒ¨</option>
                        <option value="iceland-9">Day 9: è¥¿éƒ¨</option>
                        <option value="iceland-10">Day 10: æ–¯å¥ˆå±±åŠå³¶</option>
                        <option value="iceland-11">Day 11: è—æ¹–</option>
                        <option value="iceland-12">Day 12: è¿”ç¨‹</option>
                    </optgroup>
                    <optgroup label="ğŸ‡³ğŸ‡± è·è˜­">
                        <option value="netherlands-0">Day 13: é˜¿å§†æ–¯ç‰¹ä¸¹</option>
                        <option value="netherlands-1">Day 14: ç¾Šè§’æ‘</option>
                        <option value="netherlands-2">Day 15: å°å­©å ¤é˜²+çƒç‰¹å‹’æ”¯</option>
                        <option value="netherlands-3">Day 16: çƒç‰¹å‹’æ”¯+Amersfoort</option>
                        <option value="netherlands-4">Day 17: å¸ƒé­¯æ—¥</option>
                        <option value="netherlands-5">Day 18: æ ¹ç‰¹+é¹¿ç‰¹ä¸¹</option>
                        <option value="netherlands-6">Day 19: é¹¿ç‰¹ä¸¹+å›ç¨‹</option>
                    </optgroup>
                </select>
            </div>

            <header class="main-header">
                <div class="header-content">
                    <h1 class="main-title" id="mainTitle">å†°å³¶ Day 0ï¼šå‡ºç™¼å‰å¾€æ­æ´²</h1>
                    <div class="breadcrumb" id="breadcrumb">ğŸ‡®ğŸ‡¸ å†°å³¶ > Day 0</div>
                </div>
            </header>

            <div class="content-area">
                <!-- å¿«é€Ÿçµ±è¨ˆ -->
                <div class="quick-stats">

                </div>

                <!-- æ—¥ç¨‹å…§å®¹ -->
                <div class="day-content" id="dayContent">
                    <!-- è©³ç´°å…§å®¹å°‡ç”± config.js å‹•æ…‹è¼‰å…¥ -->
                    <div id="day-detail-loading" style="color: #888;">è¼‰å…¥ä¸­...</div>
                </div>
            </div>
        </main>
    </div>

    <!-- ç§»å‹•ç«¯é®ç½© -->
    <div class="mobile-overlay" id="mobileOverlay" onclick="closeMobileSidebar()"></div>

    <!-- å¼•å…¥é…ç½®æ–‡ä»¶å°‡åœ¨æ¨¡çµ„è…³æœ¬ä¸­è™•ç† -->

    <!-- æ‰‹æ©Ÿç‰ˆåº•éƒ¨å°èˆª -->
    <div class="mobile-bottom-nav">
        <div class="mobile-nav-buttons">
            <button class="mobile-nav-btn" onclick="toggleSidebar()">
                ğŸ“‹ è¡Œç¨‹
            </button>
            <button class="mobile-nav-btn active" id="currentDayBtn">
                ğŸ“ ç•¶æ—¥
            </button>
            <button class="mobile-nav-btn" onclick="showQuickStats()">
                ğŸ“Š çµ±è¨ˆ
            </button>
        </div>
    </div>

    <script>
        // å´é‚Šæ¬„åˆ‡æ›
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            const isMobile = window.innerWidth <= 768;
            
            if (isMobile) {
                sidebar.classList.toggle('mobile-open');
                overlay.classList.toggle('show');
                
                // é˜²æ­¢èƒŒæ™¯æ»¾å‹•
                if (sidebar.classList.contains('mobile-open')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            } else {
                sidebar.classList.toggle('collapsed');
            }
        }

        function closeMobileSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            
            sidebar.classList.remove('mobile-open');
            overlay.classList.remove('show');
            document.body.style.overflow = '';
        }

        // åœ‹å®¶åˆ†çµ„åˆ‡æ›
        function toggleCountry(header) {
            const section = header.parentElement;
            const isCurrentlyExpanded = section.classList.contains('expanded');
            
            // é—œé–‰æ‰€æœ‰å…¶ä»–çš„åœ‹å®¶åˆ†çµ„
            document.querySelectorAll('.country-section').forEach(otherSection => {
                if (otherSection !== section) {
                    otherSection.classList.remove('expanded');
                }
            });
            
            // åˆ‡æ›ç•¶å‰åˆ†çµ„çš„å±•é–‹ç‹€æ…‹
            if (isCurrentlyExpanded) {
                section.classList.remove('expanded');
            } else {
                section.classList.add('expanded');
            }
        }

        // é¸æ“‡æ—¥ç¨‹
        function selectDay(country, dayIndex, element) {
            // ç§»é™¤æ‰€æœ‰æ´»å‹•ç‹€æ…‹
            document.querySelectorAll('.day-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // æ·»åŠ æ´»å‹•ç‹€æ…‹
            element.classList.add('active');
            
            // æ›´æ–°ä¸»æ¨™é¡Œå’Œé¢åŒ…å±‘
            const countryName = country === 'iceland' ? 'å†°å³¶' : 'è·è˜­';
            const countryFlag = country === 'iceland' ? 'ğŸ‡®ğŸ‡¸' : 'ğŸ‡³ğŸ‡±';
            const dayNum = country === 'iceland' ? dayIndex : dayIndex + 13;
            
            document.getElementById('mainTitle').textContent = 
                `${countryName} Day ${dayIndex}ï¼š${element.querySelector('.day-name').textContent}`;
            document.getElementById('breadcrumb').textContent = 
                `${countryFlag} ${countryName} > Day ${dayIndex}`;
            
            // é€™è£¡å¯ä»¥è¼‰å…¥å…·é«”çš„æ—¥ç¨‹å…§å®¹
            loadDayContent(country, dayIndex);
            
            // ç§»å‹•ç«¯è‡ªå‹•é—œé–‰å´é‚Šæ¬„
            if (window.innerWidth <= 768) {
                closeMobileSidebar();
            }
        }

        // è¼‰å…¥æ—¥ç¨‹å…§å®¹ï¼ˆç¤ºä¾‹ï¼‰
        function loadDayContent(country, dayIndex) {
            renderDayDetail(country, dayIndex);
        }

        // å¾ config.js æ¸²æŸ“æ—¥ç¨‹è©³ç´°å…§å®¹
        function renderDayDetail(country, dayIndex) {
            const content = document.getElementById('dayContent');
            
            // å¾ allItineraryData ä¸­æ‰¾åˆ°å°æ‡‰çš„æ—¥ç¨‹
            let dayData = null;
            if (window.allItineraryData) {
                if (country === 'iceland') {
                    // å†°å³¶è¡Œç¨‹æ˜¯ Day 0-12
                    dayData = window.allItineraryData.find(day => 
                        day.dayGroup === `Day ${dayIndex}`
                    );
                } else if (country === 'netherlands') {
                    // è·è˜­è¡Œç¨‹æ˜¯ Day 13-19
                    dayData = window.allItineraryData.find(day => 
                        day.dayGroup === `Day ${dayIndex + 13}`
                    );
                }
            }
            
            if (dayData) {
                let itemsHtml = '';
                if (dayData.items && dayData.items.length > 0) {
                    itemsHtml = '<div>';
                    dayData.items.forEach(item => {
                        // å»ºç«‹å„ç¨®è³‡è¨Šçš„ HTML
                        let extraInfo = '';
                        
                        // ç‡Ÿæ¥­æ™‚é–“
                        if (item.ç‡Ÿæ¥­æ™‚é–“) {
                            extraInfo += `<p style="margin: 5px 0; color: #666; font-size: 0.9em;"><strong>ç‡Ÿæ¥­æ™‚é–“:</strong> ${item.ç‡Ÿæ¥­æ™‚é–“}</p>`;
                        }
                        
                        // å°å¹£åƒ¹æ ¼
                        if (item.å°å¹£) {
                            extraInfo += `<p style="margin: 5px 0; color: #e74c3c; font-weight: bold;">ğŸ’° å°å¹£: ${item.å°å¹£}</p>`;
                        }
                        
                        // å…‹æœ—åƒ¹æ ¼
                        if (item.å…‹æœ—) {
                            extraInfo += `<p style="margin: 5px 0; color: #e74c3c; font-weight: bold;">ğŸ’° å…‹æœ—: ${item.å…‹æœ—}</p>`;
                        }
                        
                        // ç¶²å€é€£çµ
                        if (item.ç¶²å€) {
                            extraInfo += `<p style="margin: 5px 0;"><a href="${item.ç¶²å€}" target="_blank" style="color: #007bff; text-decoration: none; padding: 8px 16px; background: #f8f9fa; border-radius: 4px; display: inline-block; border: 1px solid #007bff;">ğŸ”— æŸ¥çœ‹æ›´å¤šè³‡è¨Š</a></p>`;
                        }
                        
                        itemsHtml += `
                            <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #007bff;">
                                <h4 style="margin: 0 0 10px 0; color: #2c3e50;">
                                    ${typeof item.mapPriority === 'number' ? `<span style="background: #007bff; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8em; margin-right: 8px;">${item.mapPriority}</span>` : ''}${item.é¡åˆ¥ || ''} ${item.lat && item.lng ? `<a href="https://www.google.com/maps/search/?api=1&query=${item.lat},${item.lng}" target="_blank" style="color: #2c3e50; text-decoration: none; border-bottom: 1px dashed #007bff;" title="åœ¨ Google Maps ä¸­é–‹å•Ÿ">${item.åœ°é» || ''}</a>` : (item.åœ°é» || '')}
                                </h4>
                                ${item.æè¿° ? `<p style="margin: 5px 0; color: #555;">${item.æè¿°}</p>` : ''}
                                ${item.ç…§ç‰‡ ? `<img src="${item.ç…§ç‰‡.split(',')[0].trim()}" alt="${item.åœ°é»}" style="max-width: 100%; height: auto; border-radius: 4px; margin-top: 10px;">` : ''}
                                ${extraInfo}
                            </div>
                        `;
                    });
                    itemsHtml += '</div>';
                }
                
                // æª¢æŸ¥æ˜¯å¦éœ€è¦é¡¯ç¤ºåœ°åœ–
                const hasMapData = dayData.mapCenter || (dayData.items && dayData.items.some(item => 
                    item.lat && item.lng && item.mapLabel && typeof item.mapPriority === 'number'
                ));
                
                const mapHtml = hasMapData ? `
                    <div class="map-container" id="mapDay${country}${dayIndex}">
                        <div class="map-loading">è¼‰å…¥åœ°åœ–ä¸­...</div>
                    </div>
                ` : '';
                
                content.innerHTML = `
                    ${itemsHtml}
                    ${mapHtml}
                `;
                
                // åˆå§‹åŒ–åœ°åœ–
                if (hasMapData) {
                    initializeMap(dayData, `mapDay${country}${dayIndex}`);
                }
            } else {
                content.innerHTML = '<p style="color:#888;">æ‰¾ä¸åˆ°è©²æ—¥è¡Œç¨‹è³‡æ–™ã€‚</p>';
            }
        }

        // åˆå§‹åŒ– Google åœ°åœ–
        function initializeMap(dayData, mapId) {
            const mapElement = document.getElementById(mapId);
            if (!mapElement) return;
            
            // æª¢æŸ¥æ˜¯å¦æœ‰æœ‰æ•ˆçš„åœ°åœ–æ•¸æ“š
            const locations = (dayData.items || [])
                .filter(item => item.lat && item.lng && item.mapLabel && typeof item.mapPriority === 'number')
                .sort((a, b) => a.mapPriority - b.mapPriority)
                .map(item => ({
                    location: { lat: item.lat, lng: item.lng },
                    title: item.mapLabel || item.åœ°é»
                }));
            
            if (locations.length === 0) {
                mapElement.innerHTML = '<div class="map-loading">æ­¤æ—¥ç¨‹ç„¡åœ°åœ–è³‡æ–™</div>';
                return;
            }
            
            // å¦‚æœ Google Maps API é‚„æ²’è¼‰å…¥
            if (!window.google || !window.google.maps) {
                // æª¢æŸ¥æ˜¯å¦è¨­å®šäº† API é‡‘é‘°
                const apiKey = window.GOOGLE_MAPS_API_KEY;
                if (!apiKey) {
                    mapElement.innerHTML = `
                        <div class="map-loading">
                            <div style="text-align: center; padding: 20px;">
                                <p style="margin-bottom: 10px;">ğŸ—ºï¸ åœ°åœ–åŠŸèƒ½éœ€è¦ Google Maps API é‡‘é‘°</p>
                                <p style="font-size: 0.9em; color: #666;">
                                    è«‹è¨­å®šç’°å¢ƒè®Šæ•¸ <code>VITE_GOOGLE_MAPS_API_KEY</code> ä¾†å•Ÿç”¨åœ°åœ–åŠŸèƒ½
                                </p>
                                <div style="margin-top: 15px; font-size: 0.8em; color: #888;">
                                    æ­¤æ—¥ç¨‹åŒ…å« ${locations.length} å€‹åœ°é»ï¼š<br>
                                    ${locations.map((loc, i) => `${i + 1}. ${loc.title}`).join('<br>')}
                                </div>
                            </div>
                        </div>
                    `;
                } else {
                    mapElement.innerHTML = '<div class="map-loading">è¼‰å…¥åœ°åœ–ä¸­...</div>';
                    // ç­‰å¾… API è¼‰å…¥å®Œæˆå¾Œå†åˆå§‹åŒ–
                    const checkAPI = setInterval(() => {
                        if (window.google && window.google.maps) {
                            clearInterval(checkAPI);
                            initializeMap(dayData, mapId);
                        }
                    }, 500);
                    
                    // 10ç§’å¾Œè¶…æ™‚
                    setTimeout(() => {
                        clearInterval(checkAPI);
                        if (!window.google || !window.google.maps) {
                            mapElement.innerHTML = '<div class="map-loading">åœ°åœ–è¼‰å…¥è¶…æ™‚ï¼Œè«‹é‡æ–°æ•´ç†é é¢</div>';
                        }
                    }, 10000);
                }
                return;
            }
            
            // å‰µå»ºåœ°åœ–
            const mapCenter = dayData.mapCenter || locations[0].location;
            const mapZoom = dayData.mapZoom || 9;
            
            const map = new google.maps.Map(mapElement, {
                zoom: mapZoom,
                center: mapCenter
            });
            
            // å¦‚æœåªæœ‰ä¸€å€‹åœ°é»ï¼Œç›´æ¥é¡¯ç¤ºæ¨™è¨˜
            if (locations.length === 1) {
                new google.maps.Marker({
                    position: locations[0].location,
                    map: map,
                    label: '1',
                    title: locations[0].title
                });
                return;
            }
            
            // å¤šå€‹åœ°é»æ™‚ï¼Œè¨ˆç®—è·¯ç·š
            const directionsService = new google.maps.DirectionsService();
            const directionsRenderer = new google.maps.DirectionsRenderer({
                map: map,
                suppressMarkers: true // æˆ‘å€‘æœƒè‡ªå·±æ·»åŠ æ¨™è¨˜
            });
            
            const waypoints = locations.slice(1, -1).map(loc => ({
                location: loc.location,
                stopover: true
            }));
            
            directionsService.route({
                origin: locations[0].location,
                destination: locations[locations.length - 1].location,
                waypoints: waypoints,
                optimizeWaypoints: true,
                travelMode: google.maps.TravelMode.DRIVING
            }, (result, status) => {
                if (status === 'OK') {
                    directionsRenderer.setDirections(result);
                }
                
                // ç„¡è«–è·¯ç·šè¨ˆç®—æ˜¯å¦æˆåŠŸï¼Œéƒ½æ·»åŠ æ¨™è¨˜é»
                locations.forEach((loc, index) => {
                    new google.maps.Marker({
                        position: loc.location,
                        map: map,
                        label: (index + 1).toString(),
                        title: loc.title
                    });
                });
            });
        }

        // æœå°‹åŠŸèƒ½
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const dayItems = document.querySelectorAll('.day-item');
            
            dayItems.forEach(item => {
                const dayName = item.querySelector('.day-name').textContent.toLowerCase();
                if (dayName.includes(searchTerm)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        });

        // æ‰‹æ©Ÿç‰ˆæ—¥ç¨‹é¸æ“‡
        function selectDayFromMobile(select) {
            const value = select.value;
            const [country, dayIndex] = value.split('-');
            const dayNum = parseInt(dayIndex);
            
            // æ›´æ–°å´é‚Šæ¬„é¸ä¸­ç‹€æ…‹
            document.querySelectorAll('.day-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const targetItem = document.querySelector(`[onclick*="${country}, ${dayNum}"]`);
            if (targetItem) {
                targetItem.classList.add('active');
            }
            
            // æ›´æ–°ä¸»æ¨™é¡Œå’Œé¢åŒ…å±‘
            const countryName = country === 'iceland' ? 'å†°å³¶' : 'è·è˜­';
            const countryFlag = country === 'iceland' ? 'ğŸ‡®ğŸ‡¸' : 'ğŸ‡³ğŸ‡±';
            const selectedText = select.options[select.selectedIndex].text;
            
            document.getElementById('mainTitle').textContent = 
                `${countryName} ${selectedText}`;
            document.getElementById('breadcrumb').textContent = 
                `${countryFlag} ${countryName} > ${selectedText.split(':')[0]}`;
            
            // è¼‰å…¥å…§å®¹
            loadDayContent(country, dayNum);
            
            // æ›´æ–°åº•éƒ¨å°èˆªæŒ‰éˆ•æ–‡å­—
            document.getElementById('currentDayBtn').textContent = 
                `ğŸ“ ${selectedText.split(':')[0]}`;
        }

        // å¿«é€Ÿçµ±è¨ˆé¡¯ç¤º
        function showQuickStats() {
            const content = document.getElementById('dayContent');
            content.innerHTML = `
                <h2>æ—…ç¨‹çµ±è¨ˆ</h2>
                <div class="quick-stats" style="margin-bottom: 20px;">
                    <div class="stat-card">
                        <div class="stat-number">19</div>
                        <div class="stat-label">ç¸½å¤©æ•¸</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">2</div>
                        <div class="stat-label">åœ‹å®¶</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">50+</div>
                        <div class="stat-label">æ™¯é»æ´»å‹•</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">12</div>
                        <div class="stat-label">ä½å®¿é»</div>
                    </div>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px;">
                    <h3 style="margin-bottom: 15px; color: #2c3e50;">è¡Œç¨‹æ¦‚è¦½</h3>
                    <p>ğŸ‡®ğŸ‡¸ <strong>å†°å³¶</strong>ï¼š10/5 - 10/16 (12å¤©)</p>
                    <p>â€¢ ç’°å³¶è‡ªé§•éŠï¼Œé«”é©—æ¥µå…‰ã€æº«æ³‰ã€ç€‘å¸ƒã€å†°å·</p>
                    <p>â€¢ ä¸»è¦æ™¯é»ï¼šé»ƒé‡‘åœˆã€è—æ¹–ã€å†°æ²³æ¹–ã€åŒ—æ¥µå…‰</p>
                    <br>
                    <p>ğŸ‡³ğŸ‡± <strong>è·è˜­</strong>ï¼š10/17 - 10/23 (7å¤©)</p>
                    <p>â€¢ åŸå¸‚æ–‡åŒ–ä¹‹æ—…ï¼Œé¬±é‡‘é¦™èŠ±å­£</p>
                    <p>â€¢ ä¸»è¦æ™¯é»ï¼šåº«è‚¯éœå¤«ã€é¢¨è»Šæ‘ã€é‹æ²³éŠèˆ¹</p>
                </div>
            `;
            
            // æ›´æ–°æ¨™é¡Œ
            document.getElementById('mainTitle').textContent = 'æ—…ç¨‹çµ±è¨ˆæ¦‚è¦½';
            document.getElementById('breadcrumb').textContent = 'ğŸ“Š çµ±è¨ˆ > ç¸½è¦½';
        }

        function searchContent(term) {
            const content = document.getElementById('dayContent');
            content.innerHTML = `
                <h2>æœå°‹çµæœï¼š${term}</h2>
                <div style="background: white; padding: 20px; border-radius: 10px;">
                    <p>æ­£åœ¨æœå°‹åŒ…å« "<strong>${term}</strong>" çš„å…§å®¹...</p>
                    <p>åŠŸèƒ½é–‹ç™¼ä¸­ï¼Œæ•¬è«‹æœŸå¾…ï¼</p>
                </div>
            `;
            
            document.getElementById('mainTitle').textContent = `æœå°‹ï¼š${term}`;
            document.getElementById('breadcrumb').textContent = `ğŸ” æœå°‹ > ${term}`;
        }

        // éŸ¿æ‡‰å¼è™•ç†
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                document.getElementById('sidebar').classList.remove('mobile-open');
                document.getElementById('mobileOverlay').classList.remove('show');
            }
        });

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ä¸éœ€è¦åœ¨é€™è£¡è¼‰å…¥ Google Maps APIï¼Œå› ç‚ºæ¨¡çµ„è…³æœ¬æœƒè™•ç†
            
            // config.js æœƒé€éæ¨¡çµ„è…³æœ¬è¼‰å…¥ï¼Œæ•¸æ“šæ‡‰è©²å·²ç¶“å¯ç”¨
            if (window.allItineraryData) {
                renderDayDetail('iceland', 0);
            } else {
                // å¦‚æœæ•¸æ“šé‚„æ²’æº–å‚™å¥½ï¼Œç¨å¾Œå†è©¦
                setTimeout(function() {
                    if (window.allItineraryData) {
                        renderDayDetail('iceland', 0);
                    } else {
                        document.getElementById('dayContent').innerHTML = 
                            '<p style="color: #e74c3c;">è¼‰å…¥è¡Œç¨‹è³‡æ–™å¤±æ•—ï¼Œè«‹é‡æ–°æ•´ç†é é¢ã€‚</p>';
                    }
                }, 100);
            }
        });

        // é˜²æ­¢æ‰‹æ©Ÿç‰ˆç¸®æ”¾å’Œæ»‘å‹•å„ªåŒ–
        window.addEventListener('load', function() {
            if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                document.querySelector('meta[name=viewport]').setAttribute('content', 
                    'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
            }
        });

        // æ‰‹æ©Ÿç‰ˆæ»‘å‹•è¿”å›é ‚éƒ¨
        let touchStartY = 0;
        document.addEventListener('touchstart', function(e) {
            touchStartY = e.changedTouches[0].screenY;
        });

        document.addEventListener('touchend', function(e) {
            const touchEndY = e.changedTouches[0].screenY;
            const diff = touchStartY - touchEndY;
            
            if (diff < -100 && window.pageYOffset > 200) {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });
    </script>

    <!-- è¼‰å…¥ Google Maps API å’Œé…ç½®æ–‡ä»¶çš„æ¨¡çµ„è…³æœ¬ -->
</body>
</html>
